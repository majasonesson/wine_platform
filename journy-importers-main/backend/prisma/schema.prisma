generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["microsoftSqlServer"]
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model UserCertifications {
  CertificationID   Int       @id(map: "PK__UserCert__1237E5AAF136FAB7") @default(autoincrement())
  UserID            Int?
  CertificationType String?   @db.VarChar(50)
  ImageURL          String?   @db.VarChar(Max)
  ExpiryDate        DateTime? @db.Date
  ReferenceNumber   String?   @db.VarChar(100)
  CreatedAt         DateTime? @default(now(), map: "DF__UserCerti__Creat__17036CC0") @db.DateTime
  Users             Users?    @relation(fields: [UserID], references: [UserID], onDelete: NoAction, onUpdate: NoAction, map: "FK__UserCerti__UserI__160F4887")
}

model Users {
  UserID               Int                  @id(map: "PK__Users__1788CCAC1EB6D025") @default(autoincrement())
  Email                String?              @unique(map: "UQ__Users__A9D105343E4FA628") @db.NVarChar(255)
  FullName             String?              @db.NVarChar(255)
  Company              String?              @db.NVarChar(255)
  Role                 String?              @db.NVarChar(50)
  IsWhitelisted        Boolean?             @default(false, map: "DF__Users__IsWhiteli__6754599E")
  CreatedAt            DateTime?            @default(now(), map: "DF__Users__CreatedAt__68487DD7") @db.DateTime
  Password             String?              @db.NVarChar(255)
  PasswordResetToken   String?              @db.VarChar(255)
  PasswordResetExpires DateTime?            @db.DateTime
  Region               String?              @db.Text
  District             String?              @db.Text
  Country              String?              @db.Text
  address              String?              @db.VarChar(255)
  subscriptionId       String?              @db.VarChar(255)
  subscriptionStatus   String?              @db.VarChar(50)
  priceId              String?              @db.VarChar(255)
  labels               Int?                 @default(0)
  stripeCustomerId     String?              @db.VarChar(255)
  subscriptionEndDate  DateTime?            @db.DateTime
   hasUsedFreeTier     Int                  @default(0)
  UserCertifications   UserCertifications[]
}

model Wines {
  WineID             Int       @id(map: "PK__Wines__ABB24B31B72EB4C3") @default(autoincrement())
  BrandName          String?   @db.NVarChar(255)
  Country            String?   @db.NVarChar(255)
  CreatedAt          DateTime? @default(now(), map: "DF__Wines__CreatedAt__778AC167") @db.DateTime
  District           String?   @db.NVarChar(255)
  EAN                String?   @db.NVarChar(255)
  GTIN               String?   @db.NVarChar(255)
  ImageURL           String?   @db.NVarChar(Max)
  Name               String?   @db.NVarChar(255)
  Carbs              String?   @db.NVarChar(255)
  CarbsOfSugar       String?   @db.NVarChar(255)
  Kcal               String?   @db.NVarChar(255)
  KJ                 String?   @db.NVarChar(255)
  Organic            Boolean?  @default(false, map: "DF__Wines__Organic__787EE5A0")
  AlcoholVolume      String?   @db.NVarChar(255)
  Grape              String?   @db.NVarChar(255)
  Ingredients        String?   @db.NVarChar(Max)
  NetQuantity        String?   @db.NVarChar(255)
  ResidualSugar      String?   @db.NVarChar(255)
  Type               String?   @db.NVarChar(255)
  Region             String?   @db.NVarChar(255)
  SQPNI              String?   @db.NVarChar(255)
  Sustainability     String?   @db.NVarChar(Max)
  UserID             Int?
  QRCodeUrl          String?   @db.VarChar(255)
  WineYear           Int?
  Documents          String?   @db.VarChar(255)
  Category           String?   @db.NVarChar(255)
  productionDetails  String?   @db.NVarChar(Max)
  ExpiryDate         String?   @db.NVarChar(255)
  CertificationTypes String?   @db.NVarChar(35)
  Sulphites          Decimal?  @db.Decimal(5, 2)
  OrganicAcid        Decimal?  @db.Decimal(5, 2)
}
